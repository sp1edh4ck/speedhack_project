{% extends 'base.html' %}
{% load static %}
{% block title %}speedhack / редактирование профиля{% endblock %}
{% load user_filters %}
{% block content %}
  <div class="main">
    <div class="frame-profile_edit_con">
      <div class="tabItem profile-edit">
        <form method="post" action="{{ request.path }}" enctype="multipart/form-data">
          {% csrf_token %}
          <div style="background: #242424b6; border-radius: 10px;">
            <div style="display: flex; padding-top: 20px;">
              <div class="profile-edit-div">
                <label>Описание:</label>
              </div>
              <div>
                {{ form.description|addclass:"profile-edit-field profile-edit-field-height" }}
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label>Telegram:</label>
              </div>
              <div style="display: block;">
                <div>
                  {{ form.tg_link|addclass:"profile-edit-field profile-edit-field-height" }}
                </div>
                <div style="margin-top: 5px; color: gray;">
                  <label>Укажите только свой telegram username (например: sp1edh4ck)</label>
                </div>
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label>Аватар:</label>
              </div>
              <div>
                {{ form.avatar|addclass:"field-load" }}
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            {% if request.user.rank == 'владелец' or request.user.rank == 'гл. администратор' or request.user.rank == 'администратор' or request.user.rank == 'арбитр' or request.user.rank == 'модератор' or request.user.rank == 'бот' or request.user.rank == 'искусственный интелект' or request.user.profile_sub == True %}
              <div style="display: flex;">
                <div class="profile-edit-div">
                  <label>Фон профиля:</label>
                </div>
                <div>
                  {{ form.profile_background }}
                </div>
              </div>
              <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            {% endif %}
            {% if request.user.rank == 'владелец' or request.user.rank == 'гл. администратор' or request.user.rank == 'администратор' or request.user.rank == 'арбитр' or request.user.rank == 'модератор' or request.user.rank == 'бот' or request.user.rank == 'искусственный интелект' or request.user.unique == True %}
              <div style="display: flex;">
                <div class="profile-edit-div">
                  <label>Стиль имени:</label>
                </div>
                <div>
                  {{ form.username_style }}
                </div>
              </div>
              <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
              <div style="display: flex;">
                <div class="profile-edit-div">
                  <label>Стиль банера:</label>
                </div>
                <div>
                  {{ form.banner }}
                </div>
              </div>
              <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            {% endif %}
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label>Пол:</label>
              </div>
              <div>
                {{ form.gender }}
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label>День рождения:</label>
              </div>
              <div style="display: block;">
                <div>
                  <input type="text" name="brt_day" id="id_brt_day" class="birthday-input" placeholder="День" maxlength="2">
                  <select name="brt_month" id="id_brt_month" class="birthday-input" style="min-width: 101px; height: 34px; -o-appearance: none;">
                    <option value="Месяц">Месяц</option>
                    <option value="Январь">Январь</option>
                    <option value="Февраль">Февраль</option>
                    <option value="Март">Март</option>
                    <option value="Апрель">Апрель</option>
                    <option value="Май">Май</option>
                    <option value="Июнь">Июнь</option>
                    <option value="Июль">Июль</option>
                    <option value="Август">Август</option>
                    <option value="Сентябрь">Сентябрь</option>
                    <option value="Октябрь">Октябрь</option>
                    <option value="Ноябрь">Ноябрь</option>
                    <option value="Декабрь">Декабрь</option>
                  </select>
                  <input name="brt_year" type="text" id="id_brt_year" class="birthday-input" placeholder="Год" maxlength="4">
                </div>
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label>Род занятий:</label>
              </div>
              <div>
                {{ form.occupation|addclass:"profile-edit-field profile-edit-field-height" }}
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label>Интересы:</label>
              </div>
              <div>
                {{ form.interests|addclass:"profile-edit-field profile-edit-field-height" }}
              </div>
            </div>
            <hr style="margin: 20px 0; border: 1px solid #444444; border-radius: 10px;">
            <div style="display: flex;">
              <div class="profile-edit-div">
                <label></label>
              </div>
              <div style="display: block;">
                <div>
                  <button type="submit" class="button-save">Сохранить</button>
                </div>
                <div style="margin-top: 20px; color: red;">
                  {% if form.errors %}
                    {% for field in form %}
                      {% for error in field.errors %}
                        {{ form.error.field }}
                        {{ error|escape }}
                      {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                      {{ error|escape }}
                    {% endfor %}
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="switch-profile-edit">
        <a href="{% url 'forum:profile_info_edit' user.username %}" class="switch-button-profile-edit active-tab">Персональная информация</a>
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Контактная информация</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Предпочтения</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Приватность</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Настройка оповещений</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Чёрный список</a> {% endcomment %}
        <a href="{% url 'forum:profile_upgrade' user.username %}" class="switch-button-profile-edit">Повышение статуса</a>
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Учётные записи</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Безопасность</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">API для разработчика</a> {% endcomment %}
        {% comment %} <a href="{% url 'forum:' %}" class="switch-button-profile-edit">Настройки маркета</a> {% endcomment %}
      </div>
    </div>
  </div>
{% endblock %}